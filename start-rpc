#!/bin/bash

BLOCKCHAIN_PATH="${HOME}/.blockchain"

ACCOUNTS=( \
    "0x128e638b653b71cf72ed68466f36b72d744a83f42e8050f9f46ba900bac03f6f,1000000000000000000000000000" \
    "0xabb13f92ea05323c3918985bb874e38bf5577c1d447f31bae5c4b158010c15c9,1000000000000000000000000000" \
    "0x20939c981c67e1bf496d0294b98c1edb9a52f4cc62fbc6e848b9db26719cbca1,1000000000000000000000000000"
    "0x3fb525ec6e211edfb9919fb23df3dbee11b50a53ffd213cd1132d90d8d96d502,100000000000000000000000" \
    "0x366730cbc0215f2b44c3db3ce5327f2ba5cb9d71669d7f5e7a637bc038591ada,100000000000000000000" \
    "0x3c398a155783bfceea292955272aa90f49d16b46d27d224bbd176c95469c53da,100000000000000000000" \
    "0x4548354aefdc2c60970fa1e67a6e6dfe56b7f366cfe85a5ced4712d5a4c4056c,100000000000000000000" \
    "0x142086738737a4187c1992e040efd71b60274d699453a6bcbce4583888c7a20a,100000000000000000000" \
    "0xc32e44f8e628629ad4258958c56637add23f3b281fd06f9539bb426bc4158b33,0" \
    "0xb7002c8f702517676498848868e935f63cf46c565d37e3a5f09e73a64ee7fcf3,0" \
    "0x8eddcb6c04a57fd82a0eb4ac4ac57b7c99d9d781c13afeffaa132cbd735761d3,0" \
    "0xee657dd5ba00d2cd0065dd76eb064194f3060928e306991673f20978124645a0,0" \
    "0xfc33e5b686fac021c7359f98365431051788d9734f8f06a4c2d4bbf424dfc522,0" \
    "0x030478e76c3077e8dfe9ea808881e514862ec83f6e1032e5904986c0c91cfff0,0" \
    "0xdbb1fef3b20274aadb2e488d770588420bdade1a792a1c7c7605f6960b14743f,0" \
    "0xc4dc35549dff2432c65e0964d111396a3754be9f92a6487ca4f9f6ae645a2a8e,0" \
    "0xaf11f8027098ac8114bfd4d1745f1a87eca4e88cdc8a169946ac3378b3714203,0" \
    "0x223b0a2a99cb6c660a71de1c144167fd39e579989a577a4d525bb1dffccd5967,0" \
    "0x4c01852b290fd18c257d5a9d2e960a272ffc1d61de83e96e9810fa51aecbe5d7,0" \
    "0xcb5d35fda326ea9a0032e2902696f8ec4a7e32870b1acf7a4869d074e9e32e85,0" \
    "0xfba4e24867ccbb902703f658f7dffa61cc28ccd34bcb79862478d65247762a26,0" \
    "0xaafa8f45be97d2815beff66a9c2e995df13220a604bbfb2666f20fe29f1608b3,0" \
    "0x863bd7bcdbe210ad8ce0daafbde16a687a206a572d1592e61f0578200dc42a02,0" \
    "0xd4450ade251ba586c3865fc37d39f06a49bf070891422ed20d79224d461e3782,0" \
    "0x828726d565ac6e9dc638778350c00e1729b605667acceeb3a1cdfa410715fd89,0" \
    "0x15ba53f0a9d6d69f9dd7ec0e5b7731605f32013586768654c2936dec7de7798e,0" \
    "0x589d9bdcea979dd0e50e72dd039d0178a5544ecfaf0e0306948fce9e83b59d7f,0" \
    "0x32f9275377082c653a865d4536295a00ad69b00af5c35336ab24f83547764857,0" \
    "0x96872fa7b39546e03c21184135626dc877ded37e343557d12363337e98cdfdaf,0" \
    "0x92c3e0743a29a20f4e11db1e512818e3ffbc9cd3a7dd8462fd95bfe063742eda,0" \
    "0x6f047c767de087d4c7f1a27febaded0c36ee80cc40dab04ff3c8b99c340b232b,0" \
    "0x17ba99afc0d3702e266fbf1f2c213cbbf2e8693138412f557aaa1c43336da246,0" \
    "0x8cd53b4da90d89293eb50f05ab25a3b1188948d8c560dc52aba3713df15e8dec,0"

)

GANACHE_ARGS="--networkId 513 --port 8540 --gasLimit 7500000 --gasPrice 60000000000"

if [ -n "$BLOCKCHAIN_PATH" -a -z "$NO_STORE" ]
then
    if [ ! -d "$BLOCKCHAIN_PATH" ]
    then
        echo -n "Creating $BLOCKCHAIN_PATH ... "
        if mkdir -p "$BLOCKCHAIN_PATH"
        then
            echo "OK"
        else
            echo "FAIL"
            exit 1
        fi
    fi

    GANACHE_ARGS="${GANACHE_ARGS} --db=$BLOCKCHAIN_PATH"
fi

for ACCOUNT in ${ACCOUNTS[*]}
do
    GANACHE_ARGS="${GANACHE_ARGS} --account=${ACCOUNT}"
done

#echo \
/usr/bin/ganache-cli $GANACHE_ARGS 

